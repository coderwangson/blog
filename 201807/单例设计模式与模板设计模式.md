## 单例设计模式与模板设计模式

### 单例设计模式
#### 1. 什么是单例模式  

保证一个类在内存中只有一个对象。
模式：模式就是解决 一类 问题的固定步骤 。模式的概念最早起源于建筑行业，建房子的步骤都是一样子：  

打地基-----> 浇柱子------->盖楼面--------->砌墙--------->封顶---->装修-----入住  

软件行业中23种设计模式：  

	单例设计模式
	模板设计模式
	装饰者设计模式
	观察者设计模式
	工厂设计模式,,,,,,,

#### 2. 单例设计模式的步骤 
	
饿汉单例设计模式  

	1. 私有化构造函数。
	2. 声明本类的引用类型变量，并且使用该变量指向本类对象。
	3. 提供一个公共静态的方法获取本类的对象。

饿汉单例设计模式 ----> 保证Single在在内存中只有一个对象。  

	class Single{
		//声明本类的引用类型变量，并且使用该变量指向本类对象
		private static	Single s = new Single();//因为只有一个，并且由于在类外不能创建对象
	
		//私有化构造函数
		private Single(){}
	
		//提供一个公共静态的方法获取本类的对象
		public	static  Single getInstance(){
			return s;
		}
	}

懒汉单例设计模式：  

	1. 私有化构造函数。
	2. 声明本类的引用类型变量，但是不要创建对象，
	3. 提供公共静态 的方法获取本类 的对象，获取之前先判断是否已经创建了本类对象，如果已经创建了，那么直接返回对象即可，如果还没有创建，那么先创建本类的对象，然后再返回。  
	
懒汉单例设计模式 ----> 保证Single在在内存中只有一个对象。  

	class Single2{
		//声明本类的引用类型变量，不创建本类的对象
		private static Single2 s;
	
		//私有化了构造函数
		private Single2(){}
	
		//
		public static Single2 getInstance(){
			if(s==null){        //此处会有线程安全问题
				s = new Single2();
			}
			return s;
		}
	}
  

推荐使用： 饿汉单例设计模式。  因为懒汉单例设计模式会存在线程安全问题，目前还不能保证一类在内存中只有一个对象。

### 模板模式  

#### 1. 什么是模板模式  

解决某类事情的步骤有些是固定的，有些是会发生变化的，那么这时候我们可以为这类事情提供一个模板代码，从而提高效率。  

#### 2. 使用模板模式  

需求；编写一个计算程序运行时间 的模板。
模板模式的步骤：   

	1. 先写出解决该类事情其中 的一件的解决方案。
	2. 分析代码，把会发生变化的代码抽取出来独立成一个方法。把该方法描述成一个抽象的方法（将来可以让子类填空）。
	3. 使用final修饰模板方法，防止别人 重写你的模板方法。  
	

![](https://i.imgur.com/wcFraxy.png)